"use strict";window.addEventListener("DOMContentLoaded",()=>{const t=gsap.timeline({defaults:{ease:"power1.out"}});t.to(".text",{y:"0%",duration:2,stagger:.25}),t.to(".slider",{y:"-100%",duration:1.5,delay:.5}),t.to(".intro",{y:"-100%",duration:1},"-=1"),t.fromTo(".header",{opacity:0},{opacity:1,duration:1}),t.fromTo(".sign",{opacity:0},{opacity:1,duration:1},"-=1");const e=document.querySelector(".menu-icon"),a=document.querySelector(".menu__body");e.addEventListener("click",(function(){this.classList.toggle("_activate"),a.classList.toggle("_activate")}));const o=document.querySelector(".calculating__result span");let c,l,r,s,i;function n(t,e){document.querySelectorAll(t).forEach(t=>{t.classList.remove(e),t.getAttribute("id")===localStorage.getItem("sex")&&t.classList.add(e),t.getAttribute("data-ratio")===localStorage.getItem("ratio")&&t.classList.add(e)})}function d(){o.textContent=c&&l&&r&&s&&i?"female"===c?Math.round((447.6+9.2*r+3.1*l-4.3*s)*i):Math.round((88.36+13.4*r+4.8*l-5.7*s)*i):"Упустили один из параметров ! "}function u(t,e){const a=document.querySelectorAll(t+" div");a.forEach(t=>{t.addEventListener("click",t=>{t.target.getAttribute("data-ratio")?(i=+t.target.getAttribute("data-ratio"),localStorage.setItem("ratio",+t.target.getAttribute("data-ratio"))):(c=t.target.getAttribute("id"),localStorage.setItem("sex",t.target.getAttribute("id"))),console.log(i,c),a.forEach(t=>t.classList.remove(e)),t.target.classList.add(e),d()})})}function g(t){const e=document.querySelector(t);e.addEventListener("input",()=>{switch(e.value.match(/\D/g)?e.classList.add("pulsate-fwd"):e.classList.remove("pulsate-fwd"),e.getAttribute("id")){case"height":l=+e.value;break;case"weight":r=+e.value;break;case"age":s=+e.value}d()})}localStorage.getItem("ratio")?i=localStorage.getItem("ratio"):(i=1.375,localStorage.setItem("ratio",1.375)),localStorage.getItem("sex")?c=localStorage.getItem("sex"):(c="female",localStorage.setItem("sex","female")),n("#gender div","calculating__choose-item_active"),n(".calculating__choose_big div","calculating__choose-item_active"),u("#gender","calculating__choose-item_active"),u(".calculating__choose_big","calculating__choose-item_active"),g("#height"),g("#weight"),g("#age");const f=document.querySelectorAll(".slider__item"),m=document.querySelectorAll(".slider__item-small"),h=document.querySelector(".offer__slider-prev"),_=document.querySelector(".offer__slider-next"),v=document.querySelector("#total"),y=document.querySelector("#current");let S=1;class p{constructor(t,e,a,o,c,...l){this.count=t,this.header=e,this.text=a,this.link=o,this.classes=l,this.parent=document.querySelector(c)}render(){const t=document.createElement("div");0===this.classes.length?(this.class="offer__advantages",t.classList.add(this.class)):this.classes.forEach(e=>t.classList.add(e)),t.innerHTML=`\n\t\t\t<div class="offer__count">.${this.count}</div>\n\t\t\t<div class="offer__advantages-text">\n\t\t\t\t<h1>${this.header}</h1>\n\t\t\t\t<p>${this.text}</p>\n\t\t\t</div>\n\t\t\t<button type="submit" formaction="${this.link}" class="btn__offer">Узнай больше</button>\n\t\t\t`,this.parent.prepend(t)}}let b=[new p("01","Hello mazafaka","Посетите наш зал и вы будете на 7м небе от счастья...Лучшие тренажеры, лучшие тренера !!!","#",".offer"),new p("02","Hello mazafaka its SECOND offert","КУпите  качественный, проверненный и в хуй вкусный СПОРТПИТ","#",".offer"),new p("03","Hello mazafaka its THIRD offert","Врывайтесь с кентами, семьей, сам(если вы одинокий волчара), ну а вообще можете и с телками","#",".offer"),new p("04","Hello mazafaka its FOURTH  offert","Групповые занятия, с лучшими из лучгих в лучшем для лучших !!!","#",".offer")];function L(t){(t>f.length||t>m.length)&&(S=1),t<1&&(S=f.length),m.forEach(t=>t.style.display="none"),m[S-1].style.display="block",f.forEach(t=>t.style.display="none"),f[S-1].style.display="block",y.textContent=S<10?"0"+S:S}function q(t){L(S+=t)}console.log(f),L(S),v.textContent=S<10?"0"+f.length:f.length,h.addEventListener("click",()=>{q(1),document.querySelector(".offer__advantages").remove(),b[S-1].render()}),_.addEventListener("click",()=>{q(-1),document.querySelector(".offer__advantages").remove(),b[S-1].render()})});