"use strict";const slides=document.querySelectorAll(".slider__item"),smallSlides=document.querySelectorAll(".slider__item-small"),prev=document.querySelector(".offer__slider-prev"),next=document.querySelector(".offer__slider-next"),total=document.querySelector("#total"),current=document.querySelector("#current");let slideIndex=1;class BuildNewInfo{constructor(e,t,a,o,l,...s){this.count=e,this.header=t,this.text=a,this.link=o,this.classes=s,this.parent=document.querySelector(l)}render(){const e=document.createElement("div");0===this.classes.length?(this.class="offer__advantages",e.classList.add(this.class)):this.classes.forEach(t=>e.classList.add(t)),e.innerHTML=`\n\t\t<div class="offer__count">.${this.count}</div>\n\t\t<div class="offer__advantages-text">\n\t\t\t<h1>${this.header}</h1>\n\t\t\t<p>${this.text}</p>\n\t\t</div>\n\t\t<button type="submit" formaction="${this.link}" class="btn__offer">Узнай больше</button>\n\t\t`,this.parent.prepend(e)}}let offer1=new BuildNewInfo("01","Hello mazafaka","its great story about us and our hobby blablabalblablablabla Lorem, ipsum dolor sit amet consectetur adipisicing elit","#",".offer"),offer2=new BuildNewInfo("02","Hello mazafaka its SECOND offert","its great story about us and our hobby","#",".offer"),offer3=new BuildNewInfo("03","Hello mazafaka its THIRD offert","its great story about us and our hobby","#",".offer"),offer4=new BuildNewInfo("04","Hello mazafaka its FOURTH  offert","its great story about us and our hobby","#",".offer"),offers=[offer1,offer2,offer3,offer4];function showSlides(e){(e>slides.length||e>smallSlides.length)&&(slideIndex=1),e<1&&(slideIndex=slides.length),smallSlides.forEach(e=>e.style.display="none"),smallSlides[slideIndex-1].style.display="block",slides.forEach(e=>e.style.display="none"),slides[slideIndex-1].style.display="block",current.textContent=slideIndex<10?"0"+slideIndex:slideIndex}function plusSlider(e){showSlides(slideIndex+=e)}console.log(slides),showSlides(slideIndex),total.textContent=slideIndex<10?"0"+slides.length:slides.length,prev.addEventListener("click",()=>{plusSlider(1),document.querySelector(".offer__advantages").remove(),offers[slideIndex-1].render()}),next.addEventListener("click",()=>{plusSlider(-1),document.querySelector(".offer__advantages").remove(),offers[slideIndex-1].render()});const burger=document.querySelector(".menu-icon"),headerMenu=document.querySelector(".menu__body");burger.addEventListener("click",(function(){this.classList.toggle("_activate"),headerMenu.classList.toggle("_activate")}));const result=document.querySelector(".calculating__result span");let sex,height,weight,age,ratio;function initLocalStorage(e,t){document.querySelectorAll(e).forEach(e=>{e.classList.remove(t),e.getAttribute("id")===localStorage.getItem("sex")&&e.classList.add(t),e.getAttribute("data-ratio")===localStorage.getItem("ratio")&&e.classList.add(t)})}function calcTotal(){result.textContent=sex&&height&&weight&&age&&ratio?"female"===sex?Math.round((447.6+9.2*weight+3.1*height-4.3*age)*ratio):Math.round((88.36+13.4*weight+4.8*height-5.7*age)*ratio):"______! "}function getStaticInfo(e,t){const a=document.querySelectorAll(e+" div");a.forEach(e=>{e.addEventListener("click",e=>{e.target.getAttribute("data-ratio")?(ratio=+e.target.getAttribute("data-ratio"),localStorage.setItem("ratio",+e.target.getAttribute("data-ratio"))):(sex=e.target.getAttribute("id"),localStorage.setItem("sex",e.target.getAttribute("id"))),console.log(ratio,sex),a.forEach(e=>e.classList.remove(t)),e.target.classList.add(t),calcTotal()})})}function getDynamicInfo(e){const t=document.querySelector(e);t.addEventListener("input",()=>{switch(t.value.match(/\D/g)?t.style.border="1px solid red":t.style.border="none",t.getAttribute("id")){case"height":height=+t.value;break;case"weight":weight=+t.value;break;case"age":age=+t.value}calcTotal()})}localStorage.getItem("ratio")?ratio=localStorage.getItem("ratio"):(ratio=1.375,localStorage.setItem("ratio",1.375)),localStorage.getItem("sex")?sex=localStorage.getItem("sex"):(sex="female",localStorage.setItem("sex","female")),initLocalStorage("#gender div","calculating__choose-item_active"),initLocalStorage(".calculating__choose_big div","calculating__choose-item_active"),getStaticInfo("#gender","calculating__choose-item_active"),getStaticInfo(".calculating__choose_big","calculating__choose-item_active"),getDynamicInfo("#height"),getDynamicInfo("#weight"),getDynamicInfo("#age");