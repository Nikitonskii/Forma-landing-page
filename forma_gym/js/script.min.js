"use strict";window.addEventListener("DOMContentLoaded",()=>{const t=gsap.timeline({defaults:{ease:"power1.out"}});t.to(".text",{y:"0%",duration:2,stagger:.25}),t.to(".slider",{y:"-100%",duration:1.5,delay:.5}),t.to(".intro",{y:"-100%",duration:1},"-=1"),t.fromTo(".header",{opacity:0},{opacity:1,duration:1}),t.fromTo(".sign",{opacity:0},{opacity:1,duration:1},"-=1");const e=document.querySelector(".menu-icon"),a=document.querySelector(".menu__body");e.addEventListener("click",(function(){this.classList.toggle("_activate"),a.classList.toggle("_activate")}));const o=document.querySelector(".calculating__result span");let c,r,s,n,i;function l(t,e){document.querySelectorAll(t).forEach(t=>{t.classList.remove(e),t.getAttribute("id")===localStorage.getItem("sex")&&t.classList.add(e),t.getAttribute("data-ratio")===localStorage.getItem("ratio")&&t.classList.add(e)})}function d(){o.textContent=c&&r&&s&&n&&i?"female"===c?Math.round((447.6+9.2*s+3.1*r-4.3*n)*i):Math.round((88.36+13.4*s+4.8*r-5.7*n)*i):"Упустили один из параметров ! "}function u(t,e){const a=document.querySelectorAll(t+" div");a.forEach(t=>{t.addEventListener("click",t=>{t.target.getAttribute("data-ratio")?(i=+t.target.getAttribute("data-ratio"),localStorage.setItem("ratio",+t.target.getAttribute("data-ratio"))):(c=t.target.getAttribute("id"),localStorage.setItem("sex",t.target.getAttribute("id"))),console.log(i,c),a.forEach(t=>t.classList.remove(e)),t.target.classList.add(e),d()})})}function g(t){const e=document.querySelector(t);e.addEventListener("input",()=>{switch(e.value.match(/\D/g)?e.classList.add("pulsate-fwd"):e.classList.remove("pulsate-fwd"),e.getAttribute("id")){case"height":r=+e.value;break;case"weight":s=+e.value;break;case"age":n=+e.value}d()})}localStorage.getItem("ratio")?i=localStorage.getItem("ratio"):(i=1.375,localStorage.setItem("ratio",1.375)),localStorage.getItem("sex")?c=localStorage.getItem("sex"):(c="female",localStorage.setItem("sex","female")),l("#gender div","calculating__choose-item_active"),l(".calculating__choose_big div","calculating__choose-item_active"),u("#gender","calculating__choose-item_active"),u(".calculating__choose_big","calculating__choose-item_active"),g("#height"),g("#weight"),g("#age");const f=document.querySelectorAll(".slider__item"),h=document.querySelectorAll(".slider__item-small"),m=document.querySelector(".offer__slider-prev"),_=document.querySelector(".offer__slider-next"),v=document.querySelector("#total"),y=document.querySelector("#current");let p=1;class S{constructor(t,e,a,o,c,...r){this.count=t,this.header=e,this.text=a,this.link=o,this.classes=r,this.parent=document.querySelector(c)}render(){const t=document.createElement("div");0===this.classes.length?(this.class="offer__advantages",t.classList.add(this.class)):this.classes.forEach(e=>t.classList.add(e)),t.innerHTML=`\n\t\t\t<div class="offer__count">.${this.count}</div>\n\t\t\t<div class="offer__advantages-text">\n\t\t\t\t<h1>${this.header}</h1>\n\t\t\t\t<p>${this.text}</p>\n\t\t\t</div>\n\t\t\t<button type="submit" formaction="${this.link}" class="btn__offer">Узнай больше</button>\n\t\t\t`,this.parent.prepend(t)}}let L=[new S("01","Crossfit арена","Множество снаряжения, которое поможет тебе не только приобрести желанную форму, но и зверскую выносливость","#",".offer","active-offer","offer__advantages"),new S("02","Фитнесс территория","Уютное место в нашем зале, где каждый обретет колоссальный запас здоровья и конечно же мышц. Наши прекрасные тренера поспособствуют вам в этом как никто другой","#",".offer","active-offer","offer__advantages"),new S("03","Спортпит островок","Большая часть нашего здоровья как физического так и психического зависит от питания, доверьтесь лучшим из лучших, позвольте сделать вас счастливее ! ","#",".offer","active-offer","offer__advantages"),new S("04","Hard местность","Место где твои мышцы наливаются кровью и растут со скоростью сопоставимой восстановлению дедпула. После этого места ты забудешь о тротуарах! ","#",".offer","active-offer","offer__advantages")];function b(t){(t>f.length||t>h.length)&&(p=1),t<1&&(p=f.length),h.forEach(t=>t.style.display="none"),h[p-1].style.display="block",f.forEach(t=>t.style.display="none"),f[p-1].style.display="block",y.textContent=p<10?"0"+p:p}function E(t){b(p+=t)}console.log(f),b(p),v.textContent=p<10?"0"+f.length:f.length,m.addEventListener("click",()=>{E(1),document.querySelector(".offer__advantages").remove(),L[p-1].render()}),_.addEventListener("click",()=>{E(-1),document.querySelector(".offer__advantages").remove(),L[p-1].render()});const q=document.querySelectorAll(".panel");function x(){this.classList.toggle("open")}function A(t){console.log(t.propertyName),t.propertyName.includes("flex")&&this.classList.toggle("open-active")}q.forEach(t=>t.addEventListener("click",x)),q.forEach(t=>t.addEventListener("transitionend",A))});